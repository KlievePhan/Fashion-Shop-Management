<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashion Shop Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<style>
    /* Badge Styles */
    .badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .badge.success {
        background-color: #d1fae5;
        color: #065f46;
        border: 1px solid #6ee7b7;
    }

    .badge.danger {
        background-color: #fee2e2;
        color: #991b1b;
        border: 1px solid #fca5a5;
    }

    .badge.warning {
        background-color: #fef3c7;
        color: #92400e;
        border: 1px solid #fcd34d;
    }

    .badge.info {
        background-color: #dbeafe;
        color: #1e40af;
        border: 1px solid #93c5fd;
    }

    .changes-preview {
        display: inline-block;
        max-width: 200px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        cursor: help;
        color: #6b7280;
        font-size: 13px;
    }

    .changes-preview:hover {
        color: #111827;
    }

    .filter-group {
        display: flex;
        gap: 10px;
        align-items: center;
    }

    .filter-select {
        padding: 8px 12px;
        border: 2px solid #e5e7eb;
        border-radius: 8px;
        font-size: 14px;
        background-color: white;
        cursor: pointer;
        transition: border-color 0.3s;
    }

    .filter-select:hover {
        border-color: #9ca3af;
    }

    .filter-select:focus {
        outline: none;
        border-color: #dc2626;
    }

    .action-btns {
        display: flex;
        gap: 8px;
        align-items: center;
        flex-wrap: wrap;
    }

    .action-btns form {
        margin: 0;
        display: inline-block;
    }

    .btn-sm {
        padding: 6px 12px;
        font-size: 13px;
        border-radius: 6px;
        border: none;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.3s;
    }

    .btn-secondary {
        background-color: #6b7280;
        color: white;
    }

    .btn-secondary:hover {
        background-color: #4b5563;
    }

    .btn-danger {
        background-color: #dc2626;
        color: white;
    }

    .btn-danger:hover {
        background-color: #991b1b;
    }

    .btn-primary {
        background-color: #dc2626;
        color: white;
    }

    .btn-primary:hover {
        background-color: #991b1b;
    }

    .btn-success {
        background-color: #059669;
        color: white;
    }

    .btn-success:hover {
        background-color: #047857;
    }

    .role-select {
        padding: 4px 8px;
        border: 1px solid #e5e7eb;
        border-radius: 4px;
        font-size: 13px;
        background-color: white;
        cursor: pointer;
    }

    /* -------------------  MODAL LAYOUT  ------------------- */
    .modal-content {
        max-width: 1100px;
        width: 92%;
        max-height: 68vh;
        overflow-y: auto;
        padding: 28px;
        border-radius: 12px;
        background: #fff;
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
        width: 100%;
        padding: 13px 16px;
        font-size: 15px;
        border: 1px solid #d1d5db;
        border-radius: 8px;
        box-sizing: border-box;
    }

    .form-row {
        display: flex;
        gap: 20px;
        margin-bottom: 16px;
    }

    .form-row .form-group {
        flex: 1;
    }

    /* User Detail Modal */
    .user-detail-modal {
        display: none;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
    }

    .user-detail-content {
        background-color: white;
        padding: 30px;
        border-radius: 12px;
        max-width: 600px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
    }

    .user-detail-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 2px solid #e5e7eb;
    }

    .user-detail-body {
        display: grid;
        gap: 15px;
    }

    .detail-row {
        display: grid;
        grid-template-columns: 150px 1fr;
        gap: 15px;
        padding: 10px 0;
        border-bottom: 1px solid #f3f4f6;
    }

    .detail-label {
        font-weight: 600;
        color: #4b5563;
    }

    .detail-value {
        color: #111827;
    }

    .close-btn {
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: #6b7280;
        padding: 0;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .close-btn:hover {
        color: #dc2626;
    }
</style>

<body>
<!-- Sidebar Navigation -->
<aside class="sidebar">
    <div class="logo">
        <h2>Fashion Shop</h2>
    </div>
    <nav class="nav-menu">
        <a href="#" class="nav-item active" data-section="dashboard">
            <span class="icon">üìä</span>
            Dashboard
        </a>
        <a href="#" class="nav-item" data-section="users">
            <span class="icon">üë•</span>
            Users
        </a>
        <a href="#" class="nav-item" data-section="analytics">
            <span class="icon">üìà</span>
            Analytics
        </a>
        <a href="#" class="nav-item" data-section="auditlog">
            <span class="icon">üìã</span>
            Audit Log
        </a>
    </nav>
</aside>

<!-- Main Content -->
<main class="main-content">
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <button class="menu-toggle" id="menuToggle">‚ò∞</button>
            <div class="header-title-section">
                <h1 id="pageTitle">Dashboard</h1>
                <p class="header-subtitle" id="headerSubtitle">Welcome back, Admin</p>
            </div>
        </div>
        <div class="header-right">
            <div class="status-info">
                <div class="status-item">
                    <span class="status-label">Active Users</span>
                    <span class="status-value" id="headerActiveUsers">0</span>
                </div>
                <div class="status-divider"></div>
                <div class="status-item">
                    <span class="status-label">Total Users</span>
                    <span class="status-value" id="headerTotalUsers">0</span>
                </div>
            </div>

            <div class="search-bar">
                <input type="text" placeholder="Search users, logs..." id="searchInput">
                <i class="search-icon">üîç</i>
            </div>

            <div class="notifications">
                <button class="notification-btn" id="notificationBtn">
                    <i class="bell-icon">üîî</i>
                    <span class="notification-badge">3</span>
                </button>
            </div>

            <div class="user-profile">
                <div class="avatar">A</div>
                <div class="user-info">
                    <span class="user-name">Admin</span>
                    <span class="user-role">Administrator</span>
                </div>

                <div class="profile-dropdown">
                    <button class="dropdown-toggle">‚ãÆ</button>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item">
                            <i>üë§</i> Profile
                        </a>
                        <a href="#" class="dropdown-item">
                            <i>‚öôÔ∏è</i> Settings
                        </a>
                        <div class="dropdown-divider"></div>
                        <form th:action="@{/logout}" method="post" style="margin:0;">
                            <button type="submit" class="dropdown-item logout-item">
                                <i class="bi bi-box-arrow-right"></i> Logout
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Dashboard Section -->
    <section id="dashboard" class="content-section active">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon red">üë•</div>
                <div class="stat-info">
                    <h3>Total Users</h3>
                    <p class="stat-value" id="totalUsersStat">0</p>
                    <span class="stat-change">All registered accounts</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-info">
                    <h3>Active Users</h3>
                    <p class="stat-value" id="activeUsersStat">0</p>
                    <span class="stat-change positive">Can log in & use system</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚õî</div>
                <div class="stat-info">
                    <h3>Inactive Users</h3>
                    <p class="stat-value" id="inactiveUsersStat">0</p>
                    <span class="stat-change warning">Locked / deactivated</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üëë</div>
                <div class="stat-info">
                    <h3>Admin & Staff</h3>
                    <p class="stat-value" id="adminStaffStat">0 admin / 0 staff</p>
                    <span class="stat-change info">Privileged accounts</span>
                </div>
            </div>
        </div>

        <!-- gi·ªØ l·∫°i 2 card demo c≈© n·∫øu mu·ªën -->
        <div class="dashboard-grid">
            <div class="card">
                <h3>Recent Orders</h3>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                        <tr>
                            <th>Order ID</th>
                            <th>Customer</th>
                            <th>Amount</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody id="recentOrdersTable">
                        <tr>
                            <td>#ORD-001</td>
                            <td>John Doe</td>
                            <td>$125.00</td>
                            <td><span class="badge success">Purchased</span></td>
                        </tr>
                        <tr>
                            <td>#ORD-002</td>
                            <td>Jane Smith</td>
                            <td>$89.50</td>
                            <td><span class="badge warning">Pending</span></td>
                        </tr>
                        <tr>
                            <td>#ORD-003</td>
                            <td>Mike Johnson</td>
                            <td>$245.00</td>
                            <td><span class="badge warning">Pending</span></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <h3>Top Products</h3>
                <div class="product-list">
                    <div class="product-item">
                        <span class="product-name">Classic T-Shirt</span>
                        <span class="product-sales">245 sales</span>
                    </div>
                    <div class="product-item">
                        <span class="product-name">Denim Jeans</span>
                        <span class="product-sales">198 sales</span>
                    </div>
                    <div class="product-item">
                        <span class="product-name">Leather Jacket</span>
                        <span class="product-sales">156 sales</span>
                    </div>
                    <div class="product-item">
                        <span class="product-name">Summer Dress</span>
                        <span class="product-sales">143 sales</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Users Section -->
    <section id="users" class="content-section">
        <div class="section-header">
            <h2>Users Management</h2>
            <button class="btn btn-primary" id="addUserBtn">+ Add User</button>
        </div>

        <div class="card">
            <div class="table-container">
                <table class="data-table">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Role</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="user : ${users}"
                        th:data-role="${user.role.code}"
                        th:data-active="${user.active}">
                        <td th:text="${user.id}"></td>
                        <td th:text="${user.fullName}"></td>
                        <td th:text="${user.email}"></td>
                        <td>
                            <form th:action="@{/admin/users/{id}/edit-role(id=${user.id})}" method="post"
                                  style="display:inline;">
                                <select name="roleCode" class="role-select"
                                        th:disabled="${user.id == currentUserId}">
                                    <option th:each="role : ${roles}"
                                            th:value="${role.code}"
                                            th:text="${role.name}"
                                            th:selected="${user.role.code == role.code}">
                                    </option>
                                </select>
                                <button type="submit"
                                        class="btn btn-sm btn-primary"
                                        th:disabled="${user.id == currentUserId}"
                                        style="margin-left: 5px;">
                                    Update
                                </button>
                            </form>
                        </td>
                        <td>
                            <span class="badge"
                                  th:classappend="${user.active ? 'success' : 'danger'}"
                                  th:text="${user.active ? 'Active' : 'Inactive'}"></span>
                        </td>
                        <td>
                            <div class="action-btns">
                                <button class="btn btn-sm btn-secondary"
                                        th:onclick="'viewUser(' + ${user.id} + ')'">View
                                </button>
                                <button class="btn btn-sm btn-secondary"
                                        th:onclick="'editUser(' + ${user.id} + ')'"
                                        th:disabled="${user.id == currentUserId}">
                                    Edit
                                </button>
                                <form th:action="@{/admin/users/{id}/toggle-active(id=${user.id})}" method="post"
                                      style="display:inline;">
                                    <button type="submit"
                                            class="btn btn-sm"
                                            th:classappend="${user.active ? 'btn-danger' : 'btn-success'}"
                                            th:disabled="${user.id == currentUserId}">
                                        <span th:text="${user.active ? 'Deactivate' : 'Activate'}"></span>
                                    </button>
                                </form>
                                <form th:if="${!user.active}"
                                      th:action="@{/admin/users/{id}/delete(id=${user.id})}"
                                      method="post"
                                      style="display:inline;"
                                      onsubmit="return confirm('Are you sure you want to permanently delete this user? This action cannot be undone.');">
                                    <button type="submit" class="btn btn-sm btn-danger">Delete</button>
                                </form>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Analytics Section -->
    <section id="analytics" class="content-section">
        <div class="section-header">
            <h2>Analytics</h2>
        </div>

        <div class="analytics-grid">
            <div class="card">
                <h3>Sales Overview</h3>
                <div class="chart-placeholder">
                    <p>üìà Sales chart visualization</p>
                    <p class="chart-note">Connect to your Spring Boot backend to display real-time data</p>
                </div>
            </div>
            <div class="card">
                <h3>Category Distribution</h3>
                <div class="category-stats">
                    <div class="category-item">
                        <span class="category-name">T-Shirts</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 45%"></div>
                        </div>
                        <span class="category-percent">45%</span>
                    </div>
                    <div class="category-item">
                        <span class="category-name">Jeans</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 30%"></div>
                        </div>
                        <span class="category-percent">30%</span>
                    </div>
                    <div class="category-item">
                        <span class="category-name">Jackets</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 15%"></div>
                        </div>
                        <span class="category-percent">15%</span>
                    </div>
                    <div class="category-item">
                        <span class="category-name">Accessories</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 10%"></div>
                        </div>
                        <span class="category-percent">10%</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Audit Log Section -->
    <section id="auditlog" class="content-section">
        <div class="section-header">
            <h2>Audit Log</h2>
            <div class="filter-group">
                <select class="filter-select" id="auditAction">
                    <option value="all">All Actions</option>
                    <option value="CREATE">Create</option>
                    <option value="UPDATE">Update</option>
                    <option value="DELETE">Delete</option>
                    <option value="VIEW">View</option>
                </select>
                <select class="filter-select" id="auditEntity">
                    <option value="all">All Entities</option>
                    <option value="Product">Product</option>
                    <option value="Brand">Brand</option>
                    <option value="Order">Order</option>
                    <option value="User">User</option>
                </select>
                <input type="date" class="filter-select" id="auditDate">
            </div>
        </div>

        <div class="card">
            <div class="table-container">
                <table class="data-table">
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Actor</th>
                        <th>Role</th>
                        <th>Action</th>
                        <th>Entity</th>
                        <th>Changes</th>
                        <th>Timestamp</th>
                    </tr>
                    </thead>
                    <tbody id="auditLogTable">
                    <tr th:each="log : ${auditLogs}">
                        <td th:text="${log.id}"></td>
                        <td th:text="${log.actor != null ? log.actor.fullName : 'System'}"></td>
                        <td th:text="${log.actorRole}"></td>
                        <td>
                            <span class="badge"
                                  th:classappend="${log.action == 'CREATE' ? 'success' : (log.action == 'DELETE' ? 'danger' : (log.action == 'UPDATE' ? 'warning' : 'info'))}"
                                  th:text="${log.action}"></span>
                        </td>
                        <td th:text="${log.entity}"></td>
                        <td>
                            <span class="changes-preview"
                                  th:title="${log.changes}"
                                  th:text="${#strings.abbreviate(log.changes, 50)}"></span>
                        </td>
                        <td th:text="${#temporals.format(log.createdAt, 'yyyy-MM-dd HH:mm:ss')}"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>
</main>

<!-- User Detail Modal -->
<div id="userDetailModal" class="user-detail-modal">
    <div class="user-detail-content">
        <div class="user-detail-header">
            <h2>User Details</h2>
            <button class="close-btn" onclick="closeUserDetailModal()">&times;</button>
        </div>
        <div class="user-detail-body">
            <div class="detail-row">
                <div class="detail-label">ID:</div>
                <div class="detail-value" id="detailId"></div>
            </div>
            <div class="detail-row">
                <div class="detail-label">Full Name:</div>
                <div class="detail-value" id="detailFullName"></div>
            </div>
            <div class="detail-row">
                <div class="detail-label">Email:</div>
                <div class="detail-value" id="detailEmail"></div>
            </div>
            <div class="detail-row">
                <div class="detail-label">Role:</div>
                <div class="detail-value" id="detailRole"></div>
            </div>
            <div class="detail-row">
                <div class="detail-label">Status:</div>
                <div class="detail-value" id="detailActive"></div>
            </div>
        </div>
    </div>
</div>

<!-- Modal for Add/Edit User -->
<div id="userModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="userModalTitle">Add New User</h2>
            <button class="close-modal" onclick="closeUserModal()">&times;</button>
        </div>
        <form th:action="@{/admin/users/save}" method="post" id="userForm">
            <input type="hidden" id="userId" name="id">
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" id="fullName" name="fullName" required maxlength="255"
                       placeholder="e.g., John Doe">
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" id="email" name="email" required maxlength="255"
                       placeholder="e.g., john@example.com">
            </div>
            <div class="form-group">
                <label>Password
                    <span id="passwordHint" style="color: #6b7280; font-size: 12px;">
                        (required for new users)
                    </span>
                </label>
                <input type="password" id="password" name="password"
                       placeholder="Leave blank to keep current">
            </div>
            <div class="form-group">
                <label>Role</label>
                <select id="roleCode" name="roleCode" required>
                    <option th:each="role : ${roles}"
                            th:value="${role.code}"
                            th:text="${role.name}">
                    </option>
                </select>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary close-modal" onclick="closeUserModal()">Cancel
                </button>
                <button type="submit" class="btn btn-primary">Save User</button>
            </div>
        </form>
    </div>
</div>

<script>
    // ============= Navigation =============
    document.addEventListener('DOMContentLoaded', function () {
        const navItems = document.querySelectorAll('.nav-item');
        const sections = document.querySelectorAll('.content-section');
        const pageTitle = document.getElementById('pageTitle');

        navItems.forEach(item => {
            item.addEventListener('click', function (e) {
                e.preventDefault();
                const targetSection = this.dataset.section;

                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');

                sections.forEach(section => section.classList.remove('active'));
                document.getElementById(targetSection).classList.add('active');

                pageTitle.textContent = this.textContent.trim();
            });
        });

        // c·∫≠p nh·∫≠t s·ªë li·ªáu user l√™n dashboard
        updateUserStats();
    });

    function updateUserStats() {
        const rows = document.querySelectorAll('#users tbody tr');
        let total = 0, active = 0, inactive = 0, admin = 0, staff = 0;

        rows.forEach(row => {
            total++;
            const isActive = row.dataset.active === 'true';
            if (isActive) active++; else inactive++;

            const role = (row.dataset.role || '').toUpperCase();
            if (role === 'ROLE_ADMIN') admin++;
            if (role === 'ROLE_STAFF') staff++;
        });

        const totalUsersStat = document.getElementById('totalUsersStat');
        const activeUsersStat = document.getElementById('activeUsersStat');
        const inactiveUsersStat = document.getElementById('inactiveUsersStat');
        const adminStaffStat = document.getElementById('adminStaffStat');
        const headerActiveUsers = document.getElementById('headerActiveUsers');
        const headerTotalUsers = document.getElementById('headerTotalUsers');

        if (totalUsersStat) totalUsersStat.textContent = total;
        if (activeUsersStat) activeUsersStat.textContent = active;
        if (inactiveUsersStat) inactiveUsersStat.textContent = inactive;
        if (adminStaffStat) adminStaffStat.textContent = `${admin} admin / ${staff} staff`;
        if (headerActiveUsers) headerActiveUsers.textContent = active;
        if (headerTotalUsers) headerTotalUsers.textContent = total;
    }

    // User Management Functions
    document.getElementById('addUserBtn')?.addEventListener('click', function () {
        document.getElementById('userModalTitle').textContent = 'Add New User';
        document.getElementById('userForm').reset();
        document.getElementById('userId').value = '';
        document.getElementById('passwordHint').textContent = '(required for new users)';
        document.getElementById('password').required = true;
        document.getElementById('userModal').style.display = 'flex';
    });

    function editUser(id) {
        fetch(`/admin/users/${id}`)
            .then(response => response.json())
            .then(user => {
                document.getElementById('userModalTitle').textContent = 'Edit User';
                document.getElementById('userId').value = user.id;
                document.getElementById('fullName').value = user.fullName;
                document.getElementById('email').value = user.email;
                document.getElementById('password').value = '';
                document.getElementById('password').required = false;
                document.getElementById('passwordHint').textContent = '(leave blank to keep current)';
                document.getElementById('roleCode').value = user.role.code;
                document.getElementById('userModal').style.display = 'flex';
            })
            .catch(error => {
                alert('Error loading user data');
                console.error(error);
            });
    }

    function viewUser(id) {
        fetch(`/admin/users/${id}`)
            .then(response => response.json())
            .then(user => {
                document.getElementById('detailId').textContent = user.id;
                document.getElementById('detailFullName').textContent = user.fullName;
                document.getElementById('detailEmail').textContent = user.email;
                document.getElementById('detailRole').textContent = user.role.name + ' (' + user.role.code + ')';

                const activeSpan = document.createElement('span');
                activeSpan.className = 'badge ' + (user.active ? 'success' : 'danger');
                activeSpan.textContent = user.active ? 'Active' : 'Inactive';
                document.getElementById('detailActive').innerHTML = '';
                document.getElementById('detailActive').appendChild(activeSpan);

                document.getElementById('userDetailModal').style.display = 'flex';
            })
            .catch(error => {
                alert('Error loading user data');
                console.error(error);
            });
    }

    function closeUserModal() {
        document.getElementById('userModal').style.display = 'none';
    }

    function closeUserDetailModal() {
        document.getElementById('userDetailModal').style.display = 'none';
    }

    window.addEventListener('click', function (e) {
        const userModal = document.getElementById('userModal');
        const userDetailModal = document.getElementById('userDetailModal');

        if (e.target === userModal) {
            closeUserModal();
        }
        if (e.target === userDetailModal) {
            closeUserDetailModal();
        }
    });

    // Display flash messages
    window.addEventListener('DOMContentLoaded', function () {
        const urlParams = new URLSearchParams(window.location.search);
        const success = urlParams.get('success');
        const error = urlParams.get('error');

        if (success) {
            showNotification(success, 'success');
        }
        if (error) {
            showNotification(error, 'error');
        }
    });

    function showNotification(message, type = 'success') {
        const notification = document.createElement('div');
        notification.textContent = message;
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, ${type === 'success' ? '#059669, #047857' : '#dc2626, #991b1b'});
            color: white;
            padding: 1rem 2rem;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(${type === 'success' ? '5, 150, 105' : '220, 38, 38'}, 0.4);
            z-index: 3000;
            animation: slideIn 0.3s ease;
            max-width: 400px;
        `;

        document.body.appendChild(notification);

        setTimeout(() => {
            notification.style.animation = 'slideOut 0.3s ease';
            setTimeout(() => notification.remove(), 300);
        }, 4000);
    }
</script>
</body>

</html>
